apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ $.Release.Name }}-frontend-config-map
  {{- with $.Values.namespace }}
  namespace: {{ . }}
  {{- end }}
data:
  config.ini: |
    [frontend]
    host = 0.0.0.0
    port = {{ $.Values.frontend.servicePort }}
    api_endpoint = https://{{ $.Values.backend.host }}{{ $.Values.backend.path }}
    es_host = {{ $.Values.elasticsearch.host }}
    es_port = {{ $.Values.elasticsearch.port }}
    es_index = {{ $.Values.elasticsearch.index }}
    source_url = {{ $.Values.info.sourceUrl }}
    api_url = https://{{ $.Values.backend.host }}{{ $.Values.backend.path }}/apidocs
    paper_doi = {{ $.Values.info.paperDoi }}
